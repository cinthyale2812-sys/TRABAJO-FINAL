import random
tickets = {}


def alta_ticket():
    while True:
        print("--- ALTA DE TICKET ---")

        nombre = input("Ingrese su nombre: ")
        asunto = input("Ingrese el asunto: ")
        problema = input("Describa su problema: ")

        ticket_id = random.randint(0, 9999)

        tickets[ticket_id] = {
            "nombre": nombre,
            "asunto": asunto,
            "problema": problema
        }

        print("--- TICKET GENERADO ---")
        print(f"Ticket Nº: {ticket_id}")
        print(f"Nombre: {nombre}")
        print(f"Asunto: {asunto}")
        print(f"Problema: {problema}")
        print("Recuerde su número de ticket para futuras consultas.")

        otro = input("¿Desea crear otro ticket? (s/n): ").lower()
        if otro != "s":
            return  


def leer_ticket():
    while True:
        print("--- LECTURA DE TICKET ---")

        try:
            numero = int(input("Ingrese el número del ticket: "))
        except ValueError:
            print("Debe ingresar un número válido.")
            continue

        if numero in tickets:
            t = tickets[numero]
            print("\n--- TICKET ENCONTRADO ---")
            print(f"Ticket Nº: {numero}")
            print(f"Nombre: {t['nombre']}")
            print(f"Asunto: {t['asunto']}")
            print(f"Problema: {t['problema']}\n")
        else:
            print("No existe un ticket con ese número.")

        otro = input("¿Desea leer otro ticket? (s/n): ").lower()
        if otro != "s":
            return  


def menu_principal():
    while True:
        print("===== MENU DE TICKETS =====")
        print("1. Alta de ticket")
        print("2. Leer ticket")
        print("3. Salir")

        opcion = input("Seleccione una opción: ")

        if opcion == "1":
            alta_ticket()
        elif opcion == "2":
            leer_ticket()
        elif opcion == "3":
            confirmar = input("¿Está seguro que desea salir? (s/n): ").lower()
            if confirmar == "s":
                print("Saliendo del sistema...")
                break
        else:
            print("Opción inválida. Intente nuevamente.")

if __name__ == "__main__":
    menu_principal()
